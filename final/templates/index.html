<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->

{% load static %}
<html>
	<head>
		<title>Columbia University EECS E6893: Big Data Analytics Project 30</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="{% static "css/main.css" %}" />
		
		<style>
			table {
			  font-family: arial, sans-serif;
			  border-collapse: collapse;
			  width: 100%;
			}
			
			td, th {
			  border: 1px solid #dddddd;
			  text-align: center;
			  padding: 8px;
			}
			
			tr:nth-child(even) {
			  background-color: #dddddd;
			}
		</style>
	</head>
	<body>

		<!-- Header -->
			<div id="header">

				<div class="top">

					<!-- Logo -->
						<div id="logo">
							<h1 id="title">USA Car Accidents Severity Prediction</h1>
							<p>Columbia University <br>
								EECS E6893: Big Data Analytics<br>
								Team 30 Project Report
							</p>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="#top" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Abstract</span></a></li>
								<li><a href="#motivation" id="motivation-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Location Feature</span></a></li>
								<li><a href="#system" id="system-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Road Feature</span></a></li>
								<li><a href="#results" id="results-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Weather Feature</span></a></li>
								<li><a href="#references" id="references-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Time Feature</span></a></li>
								<li><a href="#prediction" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-search">Severity Prediction</span></a></li>
								<li><a href="#team" id="team-link" class="skel-layers-ignoreHref"><span class="icon fa-user">Our Team</span></a></li>
							</ul>
						</nav>

				</div>

				<div class="bottom">

					<!-- Social Icons -->
						<ul class="icons">
							<li><a href="https://github.com/Oliverpapa/BigDataAnalytics" class="icon fa-github"><span class="label">Github</span></a></li>
						</ul>

				</div>

			</div>

		<!-- Main -->
			<div id="main">

				<!-- Intro -->
					<section id="top" class="one dark cover">
						<div class="container">
							<article class="item">
							</article>
			
							<h2 class="alt">USA Car Accidents Severity Prediction</h2>
							<h3>Team 30</h3>
							<h4>Zifan Chen, Meiyou Liu, Yuxin Wang</h4>
							<p></p>
							<p> The goal of our project is to built to visualize analyzed
								data of USA car accidents and predict the severity level of
								one car accident according to feature like time, road,
								weatherï¼Œetc.</p>
							<p>	The dataset we used in our project is contributed by a Lyft 
								scientist, Sobhan Moosavi. It is a
								countrywide traffic accident dataset, which covers 49 states
								of the United States, includes more than 3 million accident
								records and 46 features. We visualize the data according to
								different features, and trained a Decision Tree model to predict
							    car accident severity.</p>

							<footer>
								<a href="#motivation" class="button scrolly">Data Visualization</a>
							</footer>
						
							<footer>
								<a href="#prediction" class="button scrolly">Severity Prediction</a>
							</footer>

						</div>
					</section>

				<!-- Portfolio -->
				<section id="motivation" class="two">
					<div class="container">

						<header>
							<h2>Location Feature</h2>
						</header>
						<div class="row">
							<div class="12u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/L1.png" %}" alt="" /></a>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="12u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/L2.png" %}" alt="" /></a>
								</article>
							</div>
						</div>
					</div>
				</section>


				<section id="system" class="three">
					<div class="container">
						<header>
							<h2>Road Feature</h2>
						</header>
						
						<div class="row">
							<div class="12u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/R1.png" %}" alt="" /></a>
								</article>
							</div>

						</div>
					</div>
				</section>


				<section id="results" class="two">
					<div class="container">

						<header>
							<h2>Weather Feature</h2>
						</header>

						<div class="row">
							<div class="12u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/W1.png" %}" alt="" /></a>
								</article>
							</div>
						</div>

					</div>
				</section>

				<section id="references" class="three">
					<div class="container">

						<header>
							<h2>Time Feature</h2>
						</header>
						<h3 align="left">Time Feature: Weekday</h3>
						<div class="row">
							<div class="6u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/T1.png" %}" alt="" /></a>
								</article>
							</div>
							<div class="6u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/T2.png" %}" alt="" /></a>
								</article>
							</div>
						</div>
						<p><br></p>
						<h3 align="left">Time Feature: Hour</h3>
						<div class="row">
							<div class="7u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/T3.png" %}" alt="" /></a>
								</article>
							</div>
							<div class="5u 12u$(mobile)">
								<article class="item">
									<a href="#" class="image fit"><img src="{% static "images/T4.png" %}" alt="" /></a>
								</article>
							</div>
						</div>
						 

					</div>
				</section>
				
					
					<!-- Severity Prediction -->
						<section id="prediction" class="four">
							<div class="container">
	
								<header>
									<h2>Severity Prediction</h2>
								</header>
								<form>
									<div class="row">
										<div class="2u 12u$(mobile)">
											<label for="fname">Longitude:</label>
										</div>
										<div class="10u 12u$(mobile)">
											<input type="text" id="lon" name="lon" value="0.0"><br>
										</div>
									</div>
									<div class="row">
										<div class="2u 12u$(mobile)">
											<label for="lname">Latitude:</label>
										</div>
										<div class="10u 12u$(mobile)">
											<input type="text" id="lat" name="lat" value="0.0"><br><br>
										</div>
									</div>
									<input type="button" id="predictBtnClick" onclick="predict()" value="Submit" />
								</form> 

								<p></p>
								<table id = 'table'>
									<tr>
										<td width= "50%" >Time</td>
										<td id="Time">None</td>
									</tr>
									<tr>
										<td width= "50%" >Weather</td>
										<td id="Weather">None</td>
									</tr>
									<tr>
										<td width= "50%" >Humidity</td>
										<td id="Humi">None</td>
									</tr>
									<tr>
										<td width= "50%" >Visibility</td>
										<td id="Visi">None</td>
									</tr>
									<tr>
										<td width= "50%" >SEVERITY LEVEL(1 - 4)</td>
										<td id="Severity">None</td>
									</tr>
								</table>
							</div>
						</section>

				<!-- Our Team -->
					<section id="team" class="two">
						<div class="container">

							<header>
								<h2>Our Team</h2>
							</header>

							<p align="left">
								<strong>Zifan Chen  : </strong>zc2628@columbia.edu</br>
								<strong>Meiyou Liu  : </strong>ml4687@columbia.edu</br>
								<strong>Yuxing Wang : </strong>yw3739@columbia.edu</br>
							

						</div>
					</section>


			</div>

		<!-- Footer -->
			<div id="footer">

				<!-- Copyright -->
					<ul class="copyright">
						<li>&copy; EECS E6893: Big Data Analytics Team 30 | All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>

			</div>

		<!-- Scripts -->
		<script src="{% static "js/jquery.min.js" %}"></script>
		<script src="{% static "js/jquery.scrolly.min.js" %}"></script>
		<script src="{% static "js/jquery.scrollzer.min.js" %}"></script>
		<script src="{% static "js/skel.min.js" %}"></script>
		<script src="{% static "js/util.js" %}"></script>
		<script src="{% static "js/main.js" %}"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" ></script>
		<script>
            function predict() {
                var lon = document.getElementById("lon").value;
                var lat = document.getElementById("lat").value;
                $.ajax({
                    type: "get",
                    url: "http://127.0.0.1:8000/prediction/?lon="+lon+"&lat="+lat,
                    dataType: "json",
                    error: function(data) {
                        alert("UnknownTimeZoneError");
                    },
                    success: function(data) {
                        var str = ''
                        str += "<tr><td width='50%'>Time</td><td>"+data["Time"]+"</td></tr>"
                        str += "<tr><td width='50%'>Weather</td><td>"+data["Weather"]+"</td></tr>"
                        str += "<tr><td width='50%'>Humidity</td><td>"+data["Humi"]+"</td></tr>"
                        str += "<tr><td width='50%'>Visibility</td><td>"+data["Visi"]+"</td></tr>"
                        str += "<tr><td width='50%'>SEVERITY LEVEL(1 - 4)</td><td>"+data["Severity"]+"</td></tr>"

                        $("#table").html(str)
                    }
                });
            }
        </script>

	</body>
</html>
